## ユーザーフロー

このドキュメントは、rikaiにおける「ユーザーが何を入力し、何を得て、どう継続するか」を時系列で整理します。

---

## 0. 用語（画面/概念）

- **ゴール**: 目標（例: TOEIC700、ReactでToDoアプリ、基本情報合格）
- **カリキュラム**: ゴール達成までの全体計画（フェーズ/モジュール/レッスン/タスク）
- **今日のタスク**: その日に実行する最小単位の行動
- **チェック（小テスト）**: 理解度を測る短い評価
- **リプラン**: 進捗や理解度に応じて計画を更新すること

---

## 1. 初回オンボーディング → カリキュラム作成

### 1-1. 入力（ユーザー）

- 学びたいテーマ（自由入力 + 候補）
- 目標（例: 「3ヶ月でWebアプリを作る」）
- 期日/期間（期日固定 or 最短/ゆるめ）
- 現在地（経験年数、既知スキル、自己評価）
- 可処分時間（平日/休日、曜日、学習可能な時間帯）
- 学習スタイル（テキスト/動画/手を動かす/問題演習）
- 制約（苦手分野、予算、使用デバイス、英語可否など）

### 1-2. 処理（AI/システム）

- 目標を「達成条件」に分解（何ができれば達成か）
- 前提知識の推定（不足の埋め込み）
- 学習計画の生成（週次→日次へ落とし込み）
- リスク検知（期日が短すぎる、可処分時間が少ない等）と調整案

### 1-3. 出力（ユーザーに提示）

- カリキュラム（全体の章立て + 週次の学習計画）
- 今日のタスク（最初の一歩を即提示）
- 推奨リソース（理由と所要時間、代替案）
- 進め方（復習頻度、チェックのタイミング）

### 1-4. ユーザーの意思決定

- 「この計画で進める」 or 「条件を変える」
  - 例: 期日を延ばす / 週の学習時間を増やす / 目標範囲を狭める
- ユーザー編集（任意）
  - 教材の差し替え、曜日ごとの学習メニュー調整

---

## 2. デイリー利用（今日のタスク → 学習 → 記録）

### 2-1. 今日のタスク提示

- 1〜3件の具体タスク（例: 「Lesson 2を読む」「練習問題10問」「ミニ制作30分」）
- それぞれに
  - 目的（なぜこれをやるか）
  - 目安時間
  - 完了条件（チェックリスト）

### 2-2. 学習中の支援

- 「分からない」ボタン/入力欄で質問できる
- AIは
  - 分解説明、例、図解風テキスト、類題の提示
  - すぐ答えを渡さず、ヒント→解説の段階出し（学習支援モード）

### 2-3. チェック（理解度確認）

- レッスン単位で短いチェック
- 結果から
  - 得意/苦手の推定
  - 復習の必要性（間隔反復）を決定

### 2-4. 記録（ログ）

- 完了/未完了
- 学習時間（手入力 or タイマー）
- メモ（気づき、次回やること、疑問）
- 自己評価（1〜5など）

---

## 3. 週次の振り返り（サマリー → リプラン）

### 3-1. 週次サマリー

- 予定 vs 実績（達成率、遅延）
- つまずき（質問の多い箇所、誤答が多い箇所）
- 学習時間の傾向（曜日/時間帯）

### 3-2. リプラン提案

- 遅延の場合
  - 重要度の高い単元を優先
  - 余裕単元を圧縮/スキップ（必要なら目標調整）
- つまずきの場合
  - 前提補強モジュールを挿入
  - 教材/説明スタイル変更
  - 復習間隔を短く
- 前倒しの場合
  - 発展単元/追加演習/成果物の改善へ

### 3-3. ユーザーが最終決定

- 提案を採用/一部採用/却下
- 手動編集の内容も反映して次週計画を確定

---

## 4. 目標達成時（完了 → 次のゴールへ）

- 完了条件のチェック（自己評価 + 可能なら成果物/模試の結果）
- 到達したスキルのサマリー（ポートフォリオ/学習履歴）
- 次の提案（次のレベル、周辺スキル、継続プラン）

---

## 5. 例外フロー（よくあるケース）

### 5-1. 学習が止まった（離脱兆候）

- 数日未ログイン/未完了が続く
- 対応:
  - 目標の再設定（小さくする）
  - 1日5分の「最低継続タスク」に切り替え
  - つまずきの原因特定（難易度/時間/教材不一致）

### 5-2. 目標が変わった

- 目標差し替え → 既存の学習ログを活かして再生成

### 5-3. 期日を死守したい

- 範囲最適化（出題/重要度ベース、Must/Should/Couldで再構成）
